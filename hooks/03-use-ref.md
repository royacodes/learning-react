# ا 🔵 useRef چیه؟
ا useRef یکی از هوک‌های مهم React هست که سه کاربرد اصلی دارد:
# 🟦 1) گرفتن رفرنس به عناصر DOM
مثلاً گرفتن رفرنسی به یک input:
```jsx
const inputRef = useRef();

<input ref={inputRef} />

inputRef.current.focus();

```
اینجا inputRef.current همان DOM واقعی است.
# 🟦 2) ذخیره یک مقدار بدون ایجاد رندر مجدد
این مهم‌ترین کاربرد است.
```jsx
const countRef = useRef(0);
countRef.current++;

```
برخلاف useState:

تغییر مقدار رندر ایجاد نمی‌کند

مقدار داخل current تا پایان عمر کامپوننت حفظ می‌شود

به همین دلیل به آن می‌گویند:

"متغیر قابل persistent بدون رندر"


# 🟦 3) نگه‌داری مقادیر بین رندرها (مثل useState اما بدون رندر)
## 🔵 این کد چیه؟ 🧠
```jsx
const isInitialMount = useRef(true);

```

این یک الگو (pattern) خیلی رایج در React هست.

✔ یعنی ما یک پرچم (flag) ساختیم که فقط برای رندر اول مقدارش true است.

چرا این کار را می‌کنیم؟

مثلاً می‌خواهیم:

کدی فقط بعد از رندر دوم به بعد اجرا شود

یا useEffect فقط در آپدیت‌ها اجرا شود، نه در mount اولیه

یا تشخیص دهیم که این اولین رندر است یا نه
# 🟦 چطور استفاده می‌شود؟
مثال کاربرد isInitialMount:
```jsx
const isInitialMount = useRef(true);

useEffect(() => {
  if (isInitialMount.current) {
    isInitialMount.current = false;
    return; // در رندر اول کاری نکن
  }

  // این قسمت فقط در رندرهای بعدی اجرا می‌شود
  console.log("component updated");
}, [value]);

```

# 🧠 چرا useRef مناسب این کار است؟
چون:

مقدارش بین رندرها ثابت می‌ماند

تغییرش باعث رندر دوباره نمی‌شود

سریع و ارزان است

شبیه یک متغیر global کوچک داخل کامپوننت عمل می‌کند

اگر از useState استفاده می‌کردی، با تغییر مقدار رندر ایجاد می‌شد
ولی برای این پرچم ما اصلاً رندر جدید نمی‌خواهیم → پس useRef بهترین گزینه است.
# 🟦 خلاصه کاربردهای useRef

| کاربرد | توضیح |
|--------|-------|
| **DOM Ref** | دسترسی مستقیم به المان DOM |
| **نگه‌داری مقدار بدون رندر** | جایگزین متغیرهای کلاس، بدون ایجاد رندر مجدد |
| **ذخیره مقدار بین رندرها** | استفاده برای پرچم‌ها مثل `isInitialMount` |




































